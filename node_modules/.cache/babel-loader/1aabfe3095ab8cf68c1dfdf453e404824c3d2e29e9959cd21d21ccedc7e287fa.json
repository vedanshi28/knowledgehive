{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport useShowToast from \"./useShowToast\";\nconst usePreviewImg = () => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const showToast = useShowToast();\n  const maxFileSizeInBytes = 2 * 1024 * 1024; // 2MB\n\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith(\"image/\")) {\n      if (file.size > maxFileSizeInBytes) {\n        showToast(\"Error\", \"File size must be less than 2MB\", \"error\");\n        setSelectedFile(null);\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setSelectedFile(reader.result);\n      };\n      reader.readAsDataURL(file);\n    } else {\n      showToast(\"Error\", \"Please select an image file\", \"error\");\n      setSelectedFile(null);\n    }\n  };\n  return {\n    selectedFile,\n    handleImageChange,\n    setSelectedFile\n  };\n};\n_s(usePreviewImg, \"a9MaekGNQdFr/sC9HIA2TIjo1Ew=\", false, function () {\n  return [useShowToast];\n});\nexport default usePreviewImg;","map":{"version":3,"names":["useState","useShowToast","usePreviewImg","_s","selectedFile","setSelectedFile","showToast","maxFileSizeInBytes","handleImageChange","e","file","target","files","type","startsWith","size","reader","FileReader","onloadend","result","readAsDataURL"],"sources":["C:/Users/HP/OneDrive/Desktop/MinorProject/knowledgehive/src/hooks/usePreviewImg.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport useShowToast from \"./useShowToast\";\r\n\r\nconst usePreviewImg = () => {\r\n\tconst [selectedFile, setSelectedFile] = useState(null);\r\n\tconst showToast = useShowToast();\r\n\tconst maxFileSizeInBytes = 2 * 1024 * 1024; // 2MB\r\n\r\n\tconst handleImageChange = (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tif (file && file.type.startsWith(\"image/\")) {\r\n\t\t\tif (file.size > maxFileSizeInBytes) {\r\n\t\t\t\tshowToast(\"Error\", \"File size must be less than 2MB\", \"error\");\r\n\t\t\t\tsetSelectedFile(null);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst reader = new FileReader();\r\n\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tsetSelectedFile(reader.result);\r\n\t\t\t};\r\n\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t} else {\r\n\t\t\tshowToast(\"Error\", \"Please select an image file\", \"error\");\r\n\t\t\tsetSelectedFile(null);\r\n\t\t}\r\n\t};\r\n\r\n\treturn { selectedFile, handleImageChange, setSelectedFile };\r\n};\r\n\r\nexport default usePreviewImg;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAMM,SAAS,GAAGL,YAAY,CAAC,CAAC;EAChC,MAAMM,kBAAkB,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;;EAE5C,MAAMC,iBAAiB,GAAIC,CAAC,IAAK;IAChC,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,IAAIA,IAAI,CAACG,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;MAC3C,IAAIJ,IAAI,CAACK,IAAI,GAAGR,kBAAkB,EAAE;QACnCD,SAAS,CAAC,OAAO,EAAE,iCAAiC,EAAE,OAAO,CAAC;QAC9DD,eAAe,CAAC,IAAI,CAAC;QACrB;MACD;MACA,MAAMW,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAE/BD,MAAM,CAACE,SAAS,GAAG,MAAM;QACxBb,eAAe,CAACW,MAAM,CAACG,MAAM,CAAC;MAC/B,CAAC;MAEDH,MAAM,CAACI,aAAa,CAACV,IAAI,CAAC;IAC3B,CAAC,MAAM;MACNJ,SAAS,CAAC,OAAO,EAAE,6BAA6B,EAAE,OAAO,CAAC;MAC1DD,eAAe,CAAC,IAAI,CAAC;IACtB;EACD,CAAC;EAED,OAAO;IAAED,YAAY;IAAEI,iBAAiB;IAAEH;EAAgB,CAAC;AAC5D,CAAC;AAACF,EAAA,CA3BID,aAAa;EAAA,QAEAD,YAAY;AAAA;AA2B/B,eAAeC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}